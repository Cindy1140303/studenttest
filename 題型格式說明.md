# 考題格式說明文件

## 🎯 題型格式總覽

本系統支援多種題型，每種題型有特定的輸入格式。當您在「新增考題」或「編輯考題」時選擇題型後，系統會自動顯示該題型的格式說明。

---

## 📝 各題型詳細格式

### 1. 單選題

**選項格式:**
```
A. 選項1
B. 選項2
C. 選項3
D. 選項4
```

**答案格式:** `A` 或 `B` 或 `C` 或 `D`

**範例:**
- 題目內容: `1+1等於多少？`
- 選項:
  ```
  A. 1
  B. 2
  C. 3
  D. 4
  ```
- 答案: `B`

---

### 2. 多選題

**選項格式:**
```
A. 選項1
B. 選項2
C. 選項3
D. 選項4
```

**答案格式:** `A,C` (用逗號分隔多個答案)

**範例:**
- 題目內容: `以下哪些是水果？`
- 選項:
  ```
  A. 蘋果
  B. 汽車
  C. 香蕉
  D. 電腦
  ```
- 答案: `A,C`

---

### 3. 是非題

**選項格式:**
```
A. 是
B. 否
```

**答案格式:** `A` 或 `B`

**範例:**
- 題目內容: `地球是圓的`
- 選項:
  ```
  A. 是
  B. 否
  ```
- 答案: `A`

---

### 4. 填空題

**選項格式:** (可留空或填入提示文字)

**答案格式:** 標準答案文字

**範例:**
- 題目內容: `台灣的首都是 ____`
- 選項: `(提示: 位於北部的城市)` 或留空
- 答案: `台北`

---

### 5. 連連看 ⭐ 重點

**選項格式:** (使用 `|` 符號分隔左右配對)
```
蘋果|Apple
香蕉|Banana
貓|Cat
狗|Dog
```

**答案格式:** `auto` (系統自動驗證)

**詳細說明:**
- 每一行代表一組配對
- 使用 `|` (直線符號) 分隔左側和右側
- 左側: 會顯示在左欄
- 右側: 會顯示在右欄(順序會隨機打亂)
- 學生需要正確連接對應的項目

**完整範例:**
- 題目內容: `請將下列單字與中文配對`
- 選項:
  ```
  蘋果|Apple
  香蕉|Banana
  橘子|Orange
  葡萄|Grape
  西瓜|Watermelon
  ```
- 答案: `auto`

**前端渲染邏輯:**
當題型為「連連看」時，前端會:
1. 解析選項中的每一行
2. 用 `|` 分割得到左右配對
3. 左側項目按順序顯示在左欄
4. 右側項目隨機排序顯示在右欄
5. 學生連線配對，系統驗證是否正確

---

### 6. 拖拉方塊

**選項格式:**
```
方塊1內容|目標位置1
方塊2內容|目標位置2
方塊3內容|目標位置3
```

**答案格式:** `auto` (系統自動驗證)

**範例:**
- 題目內容: `將動物拖曳到正確的分類`
- 選項:
  ```
  狗|哺乳類
  魚|水生動物
  鳥|飛行動物
  ```
- 答案: `auto`

---

## 🔧 使用步驟

### 新增考題流程:

1. 點擊「手動新增」按鈕
2. 填寫課別、章節、知識點
3. **選擇題型** ← 重要！選擇後會顯示格式說明
4. 填寫題目內容
5. 根據顯示的格式說明填寫選項
6. 填寫答案(連連看/拖拉方塊會自動填入 auto)
7. 點擊「確定新增」

### 編輯考題流程:

1. 在考題列表點擊「編輯」按鈕
2. 系統會自動填入現有資料
3. 修改題型時，格式說明會自動更新
4. 調整選項格式(注意連連看使用 `|` 分隔)
5. 點擊「確定更新」

---

## 💡 常見問題

**Q: 連連看的選項一定要用 | 嗎？**  
A: 是的，`|` (直線符號) 是必要的分隔符號，用來區分左右配對。

**Q: 連連看可以有幾組配對？**  
A: 建議 3-8 組，太少會太簡單，太多會太複雜。

**Q: 如果我的選項內容包含逗號怎麼辦？**  
A: 沒問題！現在選項欄位使用多行文字框(textarea)，每行是一個選項，不受逗號影響。

**Q: 可以在前端預覽連連看效果嗎？**  
A: 可以！在「考題分派」頁面選擇課程和「連連看」模式，點擊確定後會顯示考題預覽。

**Q: 答案填 auto 是什麼意思？**  
A: `auto` 表示系統會自動驗證答案。對於連連看，系統會檢查配對是否正確；對於拖拉方塊，系統會檢查是否放到正確位置。

---

## 📊 資料儲存格式

資料會以 JSON 格式儲存到 MongoDB:

```json
{
  "course": "英文",
  "chapter": "第1課",
  "knowledge": "單字配對",
  "type": "連連看",
  "content": "請將下列單字與中文配對",
  "options": "蘋果|Apple\n香蕉|Banana\n貓|Cat",
  "answer": "auto"
}
```

前端渲染時會解析 `options` 欄位，根據題型進行不同處理。

---

## 🎮 連連看遊戲整合

如果您在「模式管理」中貼入了 `matching-game.html` 的程式碼，系統會:

1. 從資料庫讀取「連連看」類型的考題
2. 解析 options 欄位中的配對資料
3. 動態生成 Vue.js 遊戲界面
4. 學生可以進行連線配對
5. 系統自動計算正確率和嘗試次數

---

## 📝 更新日誌

- 2025/12/12: 新增智能題型格式系統
- 2025/12/12: 支援連連看配對格式
- 2025/12/12: 添加自動格式說明提示

---

如有問題，請檢查「考題管理」頁面的藍色提示框，裡面有即時的格式說明！
